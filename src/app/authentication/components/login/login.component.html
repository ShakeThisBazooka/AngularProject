<!-- <form class='example-form' #loginForm='ngForm' (ngSubmit)='onSubmit(loginForm)'>
  <table class='example-full-width' cellspacing='0'>
    <tr>
      <td>
        <md-input-container class='example-full-width'>
          <input required mdInput placeholder='Username' name="username" [(ngModel)]="user.name">
        </md-input-container>
      </td>
    </tr>
    <tr>
      <td>
        <md-input-container class='example-full-width'>
          <input required mdInput placeholder='Password' type='password' name="password" [(ngModel)]="user.password">
        </md-input-container>
      </td>
    </tr>
    <tr>
      <td>
        <button md-raised-button type="submit">Login</button>
      </td>
    </tr>
  </table>
</form> -->
<div class="session mat-indigo">
    <div class="session-content">
        <div class="session-wrapper">
            <md-card>
                <md-card-content>
                     <form [formGroup]="form" (ngSubmit)="onSubmit()"> 
                        <div class="text-xs-center pb-1">
                            <h2 class="mat-text-muted">PluggingAway</h2>
                        </div>
                        <div fxLayout="column" fxLayoutAlign="space-around">
                             <div class="pb-1">
                                <md-input-container fxFlex="100">
                                    <input mdInput
                                           class="userEmail"
                                           type="email"
                                           formControlName="email"
                                           placeholder="Email"
                                           [(ngModel)]="user.email">
                                    <md-error
                                            *ngIf="form.controls['email'].hasError('required') && form.controls['email'].touched"
                                    >
                                        Email is required.
                                    </md-error>
                                    <md-error
                                            *ngIf="form.controls['email'].hasError('email') && form.controls['email'].touched"
                                    >
                                        Email is invalid.
                                    </md-error>
                                </md-input-container>
                            </div> 

                            <div class="pb-1">
                                <md-input-container fxFlex="100">
                                    <input mdInput
                                           class="userPassword"
                                           type="password"
                                           placeholder="Password"
                                           formControlName="password"
                                           [(ngModel)]="user.password">
                                    <md-error
                                            *ngIf="form.controls['password'].hasError('required') && form.controls['password'].touched"
                                    >
                                        Password is required.
                                    </md-error>
                                </md-input-container>
                            </div>
                            <div class="text-xs-center" fxFlex="25px">
                                <md-error
                                        *ngIf="error"
                                >
                                    <span class="mat-text-warn">{{error}}.</span>
                                </md-error>
                            </div>
                            <button md-raised-button color="primary" type="submit" [disabled]="!form.valid || isLoading">Login
                            </button>
                        </div>
                        <div class="pt-1 pb-1 text-xs-center">&nbsp;&nbsp;
                            <a md-button [routerLink]="['/auth/register']">Sign up</a>
                        </div>
                    </form>
                </md-card-content>
            </md-card>
        </div>
    </div>
</div>
